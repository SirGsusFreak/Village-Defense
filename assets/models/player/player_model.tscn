[gd_scene load_steps=17 format=3 uid="uid://cku1xgortsjke"]

[ext_resource type="PackedScene" uid="uid://l4lqa0buljea" path="res://assets/models/player/PlayerModel.glb" id="1_s350j"]
[ext_resource type="Script" path="res://assets/models/player/player_model.gd" id="2_2uwy4"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_pxj3j"]
animation = &"rifle run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_umc33"]
animation = &"strafe right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_gkhqj"]
animation = &"run backwards"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_m55fq"]
animation = &"strafe left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5l7jo"]
animation = &"rifle aiming idle"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_4lp88"]
blend_point_0/node = SubResource("AnimationNodeAnimation_pxj3j")
blend_point_0/pos = Vector2(0, 1)
blend_point_1/node = SubResource("AnimationNodeAnimation_umc33")
blend_point_1/pos = Vector2(1, 0)
blend_point_2/node = SubResource("AnimationNodeAnimation_gkhqj")
blend_point_2/pos = Vector2(0, -1)
blend_point_3/node = SubResource("AnimationNodeAnimation_m55fq")
blend_point_3/pos = Vector2(-1, 0)
blend_point_4/node = SubResource("AnimationNodeAnimation_5l7jo")
blend_point_4/pos = Vector2(0, 0)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_y7i2e"]
animation = &"rifle aiming idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xhwop"]
animation = &"rifle jump"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_dwjdu"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_3hbit"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_ry6cn"]
reset_ends = true
states/Start/position = Vector2(226.4, 98.752)
"states/rifle jump/node" = SubResource("AnimationNodeAnimation_xhwop")
"states/rifle jump/position" = Vector2(533.6, 100.24)
transitions = ["Start", "rifle jump", SubResource("AnimationNodeStateMachineTransition_dwjdu"), "rifle jump", "End", SubResource("AnimationNodeStateMachineTransition_3hbit")]

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_s3ts5"]
fadein_time = 0.05

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_r8u26"]
input_0/name = "idle"
input_0/auto_advance = false
input_0/break_loop_at_end = false
input_0/reset = true
input_1/name = "move"
input_1/auto_advance = false
input_1/break_loop_at_end = false
input_1/reset = true

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_4fae6"]
graph_offset = Vector2(-255.275, -182.702)
nodes/Anim_Move/node = SubResource("AnimationNodeBlendSpace2D_4lp88")
nodes/Anim_Move/position = Vector2(128, -32)
nodes/Animation/node = SubResource("AnimationNodeAnimation_y7i2e")
nodes/Animation/position = Vector2(112, -224)
nodes/SM_Jump/node = SubResource("AnimationNodeStateMachine_ry6cn")
nodes/SM_Jump/position = Vector2(224, 208)
nodes/Shot_Jump/node = SubResource("AnimationNodeOneShot_s3ts5")
nodes/Shot_Jump/position = Vector2(608, 64)
nodes/Transition/node = SubResource("AnimationNodeTransition_r8u26")
nodes/Transition/position = Vector2(368, -112)
nodes/output/position = Vector2(896, 112)
node_connections = [&"Shot_Jump", 0, &"Transition", &"Shot_Jump", 1, &"SM_Jump", &"Transition", 0, &"Animation", &"Transition", 1, &"Anim_Move", &"output", 0, &"Shot_Jump"]

[node name="PlayerModel" instance=ExtResource("1_s350j")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 0, 0)
script = ExtResource("2_2uwy4")

[node name="Skeleton3D" parent="." index="0"]
bones/1/position = Vector3(0.521406, -0.0750282, -199.358)
bones/1/rotation = Quaternion(-0.738538, -0.260059, 0.220948, 0.581475)
bones/2/position = Vector3(4.76837e-06, 17.1751, -1.561)
bones/2/rotation = Quaternion(0.0240628, -0.000558354, -0.000704166, 0.99971)
bones/3/position = Vector3(2.38419e-06, 20.1202, 1.66893e-06)
bones/3/rotation = Quaternion(0.143915, 0.000476549, -0.00658434, 0.989568)
bones/4/position = Vector3(-3.57628e-07, 22.9946, 1.19209e-06)
bones/4/rotation = Quaternion(0.143243, -0.000149442, -0.0064982, 0.989666)
bones/5/position = Vector3(4.17233e-06, 25.8689, 1.99881e-05)
bones/5/rotation = Quaternion(0.0492136, 0.0647883, 0.0105163, 0.996629)
bones/6/position = Vector3(-2.38419e-06, 14.7823, 4.55643)
bones/6/rotation = Quaternion(-0.0392473, 0.191901, 0.0902616, 0.976466)
bones/7/position = Vector3(9.53674e-06, 44.1661, 13.6134)
bones/8/position = Vector3(10.7201, 20.442, -0.459381)
bones/8/rotation = Quaternion(-0.396225, -0.223728, 0.646633, -0.612223)
bones/9/position = Vector3(3.83382e-06, 24.0409, -1.42935e-05)
bones/9/rotation = Quaternion(0.363768, -0.205996, 0.2428, 0.875378)
bones/10/position = Vector3(-3.6401e-06, 48.9933, 3.42275e-05)
bones/10/rotation = Quaternion(0.00674503, 5.1527e-05, 0.537014, 0.843547)
bones/11/position = Vector3(-3.21544e-05, 52.4346, 5.97388e-07)
bones/11/rotation = Quaternion(-0.213222, -0.817199, -0.195361, 0.498554)
bones/12/position = Vector3(-3.75731, 7.17552, 2.32979)
bones/12/rotation = Quaternion(0.215201, 0.0970764, 0.0769871, 0.968678)
bones/13/position = Vector3(0.0661954, 6.7422, 4.21833e-05)
bones/13/rotation = Quaternion(0.0270353, 0.167809, -0.086224, 0.981669)
bones/14/position = Vector3(-0.340911, 6.90922, -8.70541e-06)
bones/14/rotation = Quaternion(-0.0362488, 0.0128549, 0.131614, 0.990555)
bones/15/position = Vector3(0.274672, 6.3632, 6.71148e-05)
bones/16/position = Vector3(-3.50342, 24.109, 0.0868895)
bones/16/rotation = Quaternion(0.307413, -0.0455396, -0.124335, 0.942319)
bones/17/position = Vector3(0.0615055, 5.212, -2.28517e-05)
bones/17/rotation = Quaternion(0.49717, -0.00202159, -0.0763185, 0.864288)
bones/18/position = Vector3(-0.0136057, 5.04873, -5.41745e-06)
bones/18/rotation = Quaternion(0.208095, 0.00121455, -0.0329037, 0.977554)
bones/19/position = Vector3(-0.0479164, 4.74661, -1.82733e-05)
bones/20/position = Vector3(3.5034, 18.8534, -0.141946)
bones/20/rotation = Quaternion(0.431711, -0.0609196, -0.13849, 0.889233)
bones/21/position = Vector3(0.0471674, 6.67512, 5.96688e-05)
bones/21/rotation = Quaternion(-9.01965e-08, -0.00013936, -0.0088913, 0.99996)
bones/22/position = Vector3(-0.0666264, 6.21715, -7.93728e-06)
bones/22/rotation = Quaternion(0.154264, 0.000378717, -0.0127543, 0.987947)
bones/23/position = Vector3(0.019381, 2.85304, 1.78296e-05)
bones/24/position = Vector3(-10.7201, 20.4481, -0.526506)
bones/24/rotation = Quaternion(0.285317, -0.284698, 0.706502, 0.581718)
bones/25/position = Vector3(1.03526e-05, 24.0409, 3.10962e-05)
bones/25/rotation = Quaternion(0.440138, -0.219484, -0.504009, 0.709987)
bones/26/position = Vector3(1.6892e-06, 48.9968, -5.14954e-06)
bones/26/rotation = Quaternion(0.0239081, -0.000181975, -0.756875, 0.653122)
bones/27/position = Vector3(-5.52674e-06, 52.4112, 1.93587e-05)
bones/27/rotation = Quaternion(-0.198112, 0.369566, 0.144693, 0.896235)
bones/27/scale = Vector3(1, 1, 1)
bones/28/position = Vector3(3.9852, 7.10031, 2.18572)
bones/28/rotation = Quaternion(0.330732, -0.0872284, -0.11162, 0.933032)
bones/29/position = Vector3(-0.138568, 6.74302, -1.01262e-06)
bones/29/rotation = Quaternion(-0.0471346, -0.186228, 0.262618, 0.945584)
bones/30/position = Vector3(0.266458, 6.93353, -2.51002e-06)
bones/30/rotation = Quaternion(-0.141612, -0.0168938, 0.443777, 0.884716)
bones/31/position = Vector3(-0.127823, 6.34822, 2.47955e-05)
bones/32/position = Vector3(4.19354, 23.7932, -0.0874942)
bones/32/rotation = Quaternion(0.100661, 0.0163041, 0.0817517, 0.991422)
bones/33/position = Vector3(-0.0593753, 5.49009, -1.02338e-05)
bones/33/rotation = Quaternion(0.282296, 0.00191682, 0.0332716, 0.958748)
bones/34/position = Vector3(-0.0203292, 5.16568, -1.93413e-05)
bones/34/rotation = Quaternion(0.256099, -0.00131222, 0.0378027, 0.96591)
bones/35/position = Vector3(0.0796536, 4.45831, 1.44579e-05)
bones/36/position = Vector3(-4.19354, 20.604, -0.298302)
bones/36/rotation = Quaternion(0.422481, 0.0429019, 0.163701, 0.890433)
bones/37/position = Vector3(-0.0678705, 5.70471, 1.61376e-05)
bones/37/rotation = Quaternion(0.817896, -0.000694596, 0.0894617, 0.568367)
bones/38/position = Vector3(0.0818787, 5.97569, 4.04107e-08)
bones/38/rotation = Quaternion(0.162922, -0.00101798, 0.00735914, 0.986611)
bones/39/position = Vector3(-0.0140074, 3.11371, -2.3838e-05)
bones/40/position = Vector3(19.7464, -9.54526, -0.359101)
bones/40/rotation = Quaternion(0.395911, 0.0614478, 0.905064, -0.142608)
bones/41/position = Vector3(1.73989e-06, 90.8446, -1.84774e-06)
bones/41/rotation = Quaternion(-0.197255, -0.00692354, -0.00360514, 0.980321)
bones/42/position = Vector3(1.60652e-06, 91.6456, 2.89279e-06)
bones/42/rotation = Quaternion(0.509497, 0.0330132, 0.00585909, 0.859819)
bones/43/position = Vector3(3.29426e-07, 28.7833, 5.35025e-06)
bones/43/rotation = Quaternion(0.240394, -0.0488026, 0.0121025, 0.969372)
bones/44/position = Vector3(-3.64741e-06, 12.0018, 4.04194e-07)
bones/45/position = Vector3(-19.7464, -9.54527, -0.629889)
bones/45/rotation = Quaternion(0.0467961, -0.0429386, 0.996838, 0.0477509)
bones/46/position = Vector3(3.84561e-06, 90.8369, 2.60077e-07)
bones/46/rotation = Quaternion(-0.278269, 0.00471185, 0.00763341, 0.960461)
bones/47/rotation = Quaternion(0.665049, 0.107183, -0.0422859, 0.737857)
bones/48/position = Vector3(-4.49326e-06, 28.4719, -4.90594e-07)
bones/48/rotation = Quaternion(0.243436, 0.0493261, -0.0123991, 0.968583)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="Skeleton3D" index="0"]
transform = Transform3D(-0.00134797, 0.000157117, 0.00990748, 0.00945812, 0.00300136, 0.00123923, -0.00295412, 0.00953767, -0.000553174, -0.300318, 2.65893, 0.411635)
bone_name = "RightHand"
bone_idx = 27

[node name="AnimationPlayer" parent="." index="1"]
autoplay = "rifle aiming idle"
playback_default_blend_time = 0.1

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
tree_root = SubResource("AnimationNodeBlendTree_4fae6")
anim_player = NodePath("../AnimationPlayer")
parameters/Anim_Move/blend_position = Vector2(0, 0)
parameters/Shot_Jump/active = false
parameters/Shot_Jump/internal_active = false
parameters/Shot_Jump/request = 0
parameters/Transition/current_state = "idle"
parameters/Transition/transition_request = ""
parameters/Transition/current_index = 0
